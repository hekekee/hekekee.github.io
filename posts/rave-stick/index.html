<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Rave stick from addressable LEDs | Heikki Stark</title><meta name=keywords content="diy,fun,esp32"><meta name=description content="A good friend of mine was having her 30th birthday party. The party had a disco/rave room, where everyone went and had a good time dancing to the music. While the world itself is what it currently is, I decided to bunker down for 2 weeks to make sure that I would not spread any diseases to my good friends. This made it impossible to go and get epic rave gear."><meta name=author content><link rel=canonical href=https://heke.io/posts/rave-stick/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://heke.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://heke.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://heke.io/favicon-32x32.png><link rel=apple-touch-icon href=https://heke.io/apple-touch-icon.png><link rel=mask-icon href=https://heke.io/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Rave stick from addressable LEDs"><meta property="og:description" content="A good friend of mine was having her 30th birthday party. The party had a disco/rave room, where everyone went and had a good time dancing to the music. While the world itself is what it currently is, I decided to bunker down for 2 weeks to make sure that I would not spread any diseases to my good friends. This made it impossible to go and get epic rave gear."><meta property="og:type" content="article"><meta property="og:url" content="https://heke.io/posts/rave-stick/"><meta property="og:image" content="https://heke.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-22T20:10:58+03:00"><meta property="article:modified_time" content="2021-08-22T20:10:58+03:00"><meta property="og:site_name" content="Heikki Stark"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://heke.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Rave stick from addressable LEDs"><meta name=twitter:description content="A good friend of mine was having her 30th birthday party. The party had a disco/rave room, where everyone went and had a good time dancing to the music. While the world itself is what it currently is, I decided to bunker down for 2 weeks to make sure that I would not spread any diseases to my good friends. This made it impossible to go and get epic rave gear."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://heke.io/posts/"},{"@type":"ListItem","position":2,"name":"Rave stick from addressable LEDs","item":"https://heke.io/posts/rave-stick/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Rave stick from addressable LEDs","name":"Rave stick from addressable LEDs","description":"A good friend of mine was having her 30th birthday party. The party had a disco/rave room, where everyone went and had a good time dancing to the music. While the world itself is what it currently is, I decided to bunker down for 2 weeks to make sure that I would not spread any diseases to my good friends. This made it impossible to go and get epic rave gear.","keywords":["diy","fun","esp32"],"articleBody":" A good friend of mine was having her 30th birthday party. The party had a disco/rave room, where everyone went and had a good time dancing to the music. While the world itself is what it currently is, I decided to bunker down for 2 weeks to make sure that I would not spread any diseases to my good friends. This made it impossible to go and get epic rave gear. To come up with something, I decided to start making a rave stick with addressable LEDs! To my confusion, I could not find any similar project released as an open source project. The electronics within this project can easily be translated to cosplay projects or whatever else üòä The files are available on Thingiverse.\nThe project Yet again, I managed to open my mouth for my friend a few weeks before the deadline - the birthday party. He gave me good ideas on where to start and how to design the model.\nThe end product should:\nhave blinking lights have a chargeable battery be 3D-printable be simple not explode These things in mind, we drafted a little sketch with Heikki Juva.\nWhiteboard drafting and sketching\nBill of materials With all these things in mind, the following parts were chosen for the project\nProduct Name Controller SparkFun ESP32 Thing LEDs WS2812 LED strip Battery Ansmann 18650 3500mAh battery Battery holder Generic 18650 battery holder On/off switch Generic rocker toggle switch Step-up converter Step-Up Adjustable DC-DC Switching Boost Converter Cables 28 AWG wiring Controller [SparkFun ESP32 Thing](https://www.sparkfun.com/products/13907)\nSparkFun ESP32 Thing was chosen because it has several amazingly good features for this project. ESP32 Thing is a great devboard featuring an integrated LiPo charger. Also my friend happened to have an extra few üòÖ Only downside is that it does not have a 5V power pinout for powering the LED strip. We can get around this by putting a step-up converter in between to crank up the 3,3V output to 5V.\nSparkFun is a quality vendor and trustable. By going with this the product was one step closer of one of our requirements; it should not explode. The thing that might explode of course is‚Ä¶\nBattery [Ansmann 18650 3500mAh battery](https://www.verkkokauppa.com/fi/product/55903/qbjkd/Ansmann-18650-akkuparisto-3500mAh)\nThe battery. 18650 battery usually means a Li-On battery which is 18mm around and 65mm long cylinder battery cell. The form factor is great for this project. The thing with Li-On batteries is that if they are under- or over-volted, they might start producing toxic gasses and pressure. This is something that we‚Äôd love to avoid at any cost. Our ESP32‚Äôs charger does not include a protection circuit integrated. Luckily you can buy batteries, which have one. It also provides protection against overcurrent and overtemperature. Easiest for me was to buy one from Verkkokauppa.com. It is a little bit more costly, but it gets the job done and most certainly won‚Äôt explode. I hope.\nLEDs You can get really cheap NeoPixel clones from Aliexpress. I have a few meters of WS2812 with different amount of LEDs per meter. For this project, I went with 60 LEDs per meter and IP30 rating. Putting too many LEDs on at the same time requires more electricity! I tested with a denser LED strip as well, but with 44 LEDs the microcontroller was very unstable. I decided to downgrade to 20 LEDs (10 for each side). üò¢ But with less LEDs, we can make the few LEDs we have a little bit more brighter as well! Yay!\n3D modeling Autodesk Fusion360 - CAD software\nI fired up the Fusion360 and started doing the stuff. I like to do measuring before going in to the CAD itself and writing everything down (ref. the earlier sketches) and re-measuring everything while doing the models.\nAll the parts went through small changes, mostly making things wider or longer. Owning your own 3D printer makes the prototyping such a joy.\nHandle testfit for the electronics. It did not fit.\nThe diffuser part required the most prototyping I‚Äôve ever done. Goal was to diffuse the LEDs light so that you can‚Äôt see the parts which are not directly illuminated by the LEDs. The diffuser will be sanded downto hide the layer changes from 3D printing. Therefore the diffuser was printed from PETG plastic (white) since it‚Äôs better to sand than PLA. I started with 320 grit and ended up with 1200. The final sanded version had a cool frosty effect on it, which is hard to capture on the camera!\nFinal test for the electronics. IT WORKS\nElectronics ESP32 Thing pretty much is the brains of this project. The pinout is simple and nicely written in the silkscreen. I early mentioned that the ESP32 Thing gives out only 3,3 volts, when our LEDs requres 5V. That‚Äôs why we need to put a step up converter in between to power the LEDs. The battery is connected to the toggle switch as well. I just wanted to make a physical on/off switch for the battery. You could skip this and just add a deep sleep to your code or something. I like physical buttons üòä\nWiring diagram. DON'T JUDGE ME\nSome of the comments from @Heikki Juva\nI could have used VBAT pinout instead of 3V3. This might have caused my ESP32 to be unstable with higher amount of LEDs Even a better option would have been to take the + straight from battery and take it to Step-Up converter‚Äôs VIN+ directly Keep these in mind, if you are going to make your own rave stick üòÅ\nSoftware I decided to go with a neat little software called WLED. WLED hosts a webserver from which you are able to add your configurations and everything over WiFi. There is also a quite handy app for iOS and Android. Since we are wanting a highly mobile setup for our raves, this sounds amazing.\nThe installation is extremely simple (unless you want to compile your own WLED binaries). Just go to the install.wled.me with your ESP-based controller insterted and you can flash it over there. It was a neat little experience and I‚Äôve never seen any other site do the same. It was magical. Of course there are concerns about this impelmentation. WLED‚Äôs repository has loads of cool tutorials linked from people who know about their stuff. At least more than me!\nBy default, the WLED also hosts a WiFi access point, which you can connect via your mobile phone. The initial setup should be done here. There are a few default settings that I wanted to change. First thing was to change LED PIN from 0 to 13. I decided to go with 13 to make the cabling look neat üòä Your mileage may vary and using 0 is a valid choice. The UI seems like its amazing, and for the most of the parts it is, but some stuff just isn‚Äôt that intuitive. For example, changing the default preset to something else than the default warm white.\nPost Mortem The sticks themselves were amazing. We had lots of fun times with them.\nThe bigges downside, of coruse, was the model design. Designing two parts to be joined together via threads was a bad idea or the implementation wasn‚Äôt perfect. The LEDs‚Äô wires became twisted and I had to swap from LED connectors to just soldering flexible silicone wires straight to the LEDs. That wasn‚Äôt such a bad thing, but structually the thread was also the weakest part of the handle. When people are having fun and waving their epic rave sticks, it‚Äôs possible that they might drop the sticks. And they did. And the threaded part broke down after the first drop. Luckily the design was amazingly simple so they could easily be fixed by using tape.\nThe design itself is not perfect in any other way, but I think the diffuser pattern was really good. The handle should be redesigned with the following things in mind:\nMake the diffuser \u0026 handle attach mechanism stronger Screws? Heat inserts? Who knows USB-port for charging the battery USB-C female connectors were on their way \u003e:3 Add a button for changing the lightning effect or something But our requirements were filled!\nIt had blinking lights It had a chargeable battery It was 3D-printable It was simple It did not explode Hope you enjoyed the read. I know I did ‚ô•\n","wordCount":"1392","inLanguage":"en","datePublished":"2021-08-22T20:10:58+03:00","dateModified":"2021-08-22T20:10:58+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://heke.io/posts/rave-stick/"},"publisher":{"@type":"Organization","name":"Heikki Stark","logo":{"@type":"ImageObject","url":"https://heke.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://heke.io/ accesskey=h title="Heikki Stark (Alt + H)"><img src=https://heke.io/apple-touch-icon.png alt aria-label=logo height=22>Heikki Stark</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://heke.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://heke.io/keyboards/ title=Keyboards><span>Keyboards</span></a></li><li><a href=https://heke.io/about title="About Me"><span>About Me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://heke.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://heke.io/posts/>Posts</a></div><h1 class=post-title>Rave stick from addressable LEDs</h1><div class=post-meta><span title='2021-08-22 20:10:58 +0300 EEST'>22 August, 2021</span>&nbsp;¬∑&nbsp;7 min&nbsp;¬∑&nbsp;1392 words</div></header><div class=post-content><link rel=stylesheet href=/css/hugo-easy-gallery.css><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/images/ravestick/ravestick1.jpg></div><a href=/images/ravestick/ravestick1.jpg itemprop=contentUrl></a></figure></div><p>A good friend of mine was having her 30th birthday party. The party had a disco/rave room, where everyone went and had a good time dancing to the music.
While the world itself is what it currently is, I decided to bunker down for 2 weeks to make sure that I would not spread any diseases to my good friends. This made it impossible to go and get epic rave gear.
To come up with something, I decided to start making a <strong>rave stick with addressable LEDs</strong>! To my confusion, I could not find any similar project released as an open source project. The electronics within this project can easily be translated to cosplay projects or whatever else üòä The files are available on <a href=https://www.thingiverse.com/thing:4939787>Thingiverse</a>.</p><h2 id=the-project>The project<a hidden class=anchor aria-hidden=true href=#the-project>#</a></h2><p>Yet again, I managed to open my mouth for my friend a few weeks before the deadline - the birthday party. He gave me good ideas on where to start and how to design the model.</p><p>The end product should:</p><ul><li>have blinking lights</li><li>have a chargeable battery</li><li>be 3D-printable</li><li>be simple</li><li>not explode</li></ul><p>These things in mind, we drafted a little sketch with <a href=https://twitter.com/HJuva>Heikki Juva</a>.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/images/ravestick/drafts_ravestick.png alt="Whiteboard drafting and sketching"></div><a href=/images/ravestick/drafts_ravestick.png itemprop=contentUrl></a><figcaption><p>Whiteboard drafting and sketching</p></figcaption></figure></div><h3 id=bill-of-materials>Bill of materials<a hidden class=anchor aria-hidden=true href=#bill-of-materials>#</a></h3><p>With all these things in mind, the following parts were chosen for the project</p><table><thead><tr><th>Product</th><th>Name</th></tr></thead><tbody><tr><td>Controller</td><td><a href=https://www.sparkfun.com/products/13907>SparkFun ESP32 Thing</a></td></tr><tr><td>LEDs</td><td>WS2812 LED strip</td></tr><tr><td>Battery</td><td><a href=https://www.verkkokauppa.com/fi/product/55903/qbjkd/Ansmann-18650-akkuparisto-3500mAh>Ansmann 18650 3500mAh battery</a></td></tr><tr><td>Battery holder</td><td>Generic 18650 battery holder</td></tr><tr><td>On/off switch</td><td>Generic rocker toggle switch</td></tr><tr><td>Step-up converter</td><td>Step-Up Adjustable DC-DC Switching Boost Converter</td></tr><tr><td>Cables</td><td>28 AWG wiring</td></tr></tbody></table><h4 id=controller>Controller<a hidden class=anchor aria-hidden=true href=#controller>#</a></h4><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/images/ravestick/sparkfun_esp32thing.png alt="[SparkFun ESP32 Thing](https://www.sparkfun.com/products/13907)"></div><a href=/images/ravestick/sparkfun_esp32thing.png itemprop=contentUrl></a><figcaption><p>[SparkFun ESP32 Thing](https://www.sparkfun.com/products/13907)</p></figcaption></figure></div><p><a href=https://www.sparkfun.com/products/13907>SparkFun ESP32 Thing</a> was chosen because it has several amazingly good features for this project. ESP32 Thing is a great devboard featuring an integrated LiPo charger. Also my friend happened to have an extra few üòÖ Only downside is that it does not have a 5V power pinout for powering the LED strip. We can get around this by putting a step-up converter in between to crank up the 3,3V output to 5V.</p><p>SparkFun is a quality vendor and trustable. By going with this the product was one step closer of one of our requirements; <em>it should not explode</em>. The thing that might explode of course is&mldr;</p><h4 id=battery>Battery<a hidden class=anchor aria-hidden=true href=#battery>#</a></h4><p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/images/ravestick/battery.png alt="[Ansmann 18650 3500mAh battery](https://www.verkkokauppa.com/fi/product/55903/qbjkd/Ansmann-18650-akkuparisto-3500mAh)"></div><a href=/images/ravestick/battery.png itemprop=contentUrl></a><figcaption><p>[Ansmann 18650 3500mAh battery](https://www.verkkokauppa.com/fi/product/55903/qbjkd/Ansmann-18650-akkuparisto-3500mAh)</p></figcaption></figure></div>The battery. 18650 battery <em>usually</em> means a Li-On battery which is 18mm around and 65mm long cylinder battery cell. The form factor is great for this project. The thing with Li-On batteries is that if they are under- or over-volted, they might start producing toxic gasses and pressure. This is something that we&rsquo;d love to avoid at any cost. Our ESP32&rsquo;s charger does not include a protection circuit integrated. Luckily you can buy batteries, which have one. It also provides protection against overcurrent and overtemperature. Easiest for me was to buy one from <a href=https://www.verkkokauppa.com/fi/product/55903/qbjkd/Ansmann-18650-akkuparisto-3500mAh>Verkkokauppa.com</a>. It is a little bit more costly, but it gets the job done and most certainly won&rsquo;t explode. I hope.</p><h4 id=leds>LEDs<a hidden class=anchor aria-hidden=true href=#leds>#</a></h4><p>You can get really cheap NeoPixel clones from Aliexpress. I have a few meters of WS2812 with different amount of LEDs per meter. For this project, I went with 60 LEDs per meter and IP30 rating. Putting too many LEDs on at the same time requires more electricity! I tested with a denser LED strip as well, but with <strong>44 LEDs</strong> the microcontroller was very unstable. I decided to downgrade to 20 LEDs (10 for each side). üò¢ But with less LEDs, we can make the few LEDs we have a little bit more brighter as well! Yay!</p><h3 id=3d-modeling>3D modeling<a hidden class=anchor aria-hidden=true href=#3d-modeling>#</a></h3><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/images/ravestick/fusion.png alt="Autodesk Fusion360 - CAD software"></div><a href=/images/ravestick/fusion.png itemprop=contentUrl></a><figcaption><p>Autodesk Fusion360 - CAD software</p></figcaption></figure></div><p>I fired up the Fusion360 and started doing <em>the stuff</em>. I like to do measuring before going in to the CAD itself and writing everything down (ref. the earlier sketches) and re-measuring everything while doing the models.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/DHsvj6p0Y1A style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="First test fit - Threads worked great in the first try!"></iframe></div><p>All the parts went through small changes, mostly making things wider or longer. Owning your own 3D printer makes the prototyping such a joy.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/images/ravestick/testfit_1.png alt="Handle testfit for the electronics. It did not fit."></div><a href=/images/ravestick/testfit_1.png itemprop=contentUrl></a><figcaption><p>Handle testfit for the electronics. It did not fit.</p></figcaption></figure></div><p>The diffuser part required the most prototyping I&rsquo;ve ever done. Goal was to diffuse the LEDs light so that you can&rsquo;t see the parts which are not directly illuminated by the LEDs. The diffuser will be sanded downto hide the layer changes from 3D printing. Therefore the diffuser was printed from <a href=https://shop.prusa3d.com/en/prusament/1264-prusament-petg-signal-white-1kg.html>PETG plastic (white)</a> since it&rsquo;s better to sand than PLA. I started with 320 grit and ended up with 1200. The final sanded version had a cool frosty effect on it, which is hard to capture on the camera!</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/images/ravestick/finaltest.gif alt="Final test for the electronics. IT WORKS"></div><a href=/images/ravestick/finaltest.gif itemprop=contentUrl></a><figcaption><p>Final test for the electronics. IT WORKS</p></figcaption></figure></div><h3 id=electronics>Electronics<a hidden class=anchor aria-hidden=true href=#electronics>#</a></h3><p>ESP32 Thing pretty much is the brains of this project. The pinout is simple and nicely written in the silkscreen. I early mentioned that the ESP32 Thing gives out only 3,3 volts, when our LEDs requres 5V. That&rsquo;s why we need to put a step up converter in between to power the LEDs. The battery is connected to the toggle switch as well. I just wanted to make a physical on/off switch for the battery. You could skip this and just add a deep sleep to your code or something. I like physical buttons üòä</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/images/ravestick/wiring_diagram.png alt="Wiring diagram. DON'T JUDGE ME"></div><a href=/images/ravestick/wiring_diagram.png itemprop=contentUrl></a><figcaption><p>Wiring diagram. DON'T JUDGE ME</p></figcaption></figure></div><p>Some of the comments from <a href=https://twitter.com/HJuva>@Heikki Juva</a></p><ul><li>I could have used <code>VBAT</code> pinout instead of <code>3V3</code>. This might have caused my ESP32 to be unstable with higher amount of LEDs</li><li>Even a better option would have been to take the <code>+</code> straight from battery and take it to Step-Up converter&rsquo;s <code>VIN+</code> directly</li></ul><p>Keep these in mind, if you are going to make your own rave stick üòÅ</p><h3 id=software>Software<a hidden class=anchor aria-hidden=true href=#software>#</a></h3><p>I decided to go with a neat little software called <a href=https://github.com/Aircoookie/WLED>WLED</a>. WLED hosts a webserver from which you are able to add your configurations and everything over WiFi. There is also a quite handy app for iOS and Android. Since we are wanting a highly mobile setup for our raves, this sounds amazing.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/images/ravestick/wled.png alt=WLED></div><a href=https://github.com/Aircoookie/WLED itemprop=contentUrl></a></figure></div><p>The installation is extremely simple (unless you want to compile your own WLED binaries). Just go to the <a href=https://install.wled.me/>install.wled.me</a> with your ESP-based controller insterted and you can flash it over there. It was a neat little experience and I&rsquo;ve never seen any other site do the same. It was magical. Of course there are concerns about this impelmentation. WLED&rsquo;s repository has loads of cool tutorials linked from people who know about their stuff. At least more than me!</p><p>By default, the WLED also hosts a WiFi access point, which you can connect via your mobile phone. The initial setup should be done here. There are a few default settings that I wanted to change. First thing was to change LED PIN from <code>0</code> to <code>13</code>. I decided to go with 13 to make the cabling look neat üòä Your mileage may vary and using <code>0</code> is a valid choice. The UI seems like its amazing, and for the most of the parts it is, but some stuff just isn&rsquo;t that intuitive. For example, changing the default preset to something else than the default warm white.</p><h2 id=post-mortem>Post Mortem<a hidden class=anchor aria-hidden=true href=#post-mortem>#</a></h2><p>The sticks themselves were amazing. We had lots of fun times with them.</p><p>The bigges downside, of coruse, was the model design. Designing two parts to be joined together via threads was a bad idea or the implementation wasn&rsquo;t perfect. The LEDs&rsquo; wires became twisted and I had to swap from LED connectors to just soldering flexible silicone wires straight to the LEDs. That wasn&rsquo;t such a bad thing, but structually the thread was also the weakest part of the handle. When people are having fun and waving their epic rave sticks, it&rsquo;s possible that they might drop the sticks. And they did. And the threaded part broke down after the first drop. Luckily the design was amazingly simple so they could easily be fixed by using tape.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/1o2AbvTnj0A style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p>The design itself is not perfect in any other way, but I think the diffuser pattern was really good. The handle should be redesigned with the following things in mind:</p><ul><li>Make the diffuser & handle attach mechanism stronger<ul><li>Screws? Heat inserts? Who knows</li></ul></li><li>USB-port for charging the battery<ul><li>USB-C female connectors were on their way >:3</li></ul></li><li>Add a button for changing the lightning effect or something</li></ul><p>But our requirements were filled!</p><ul><li>It had blinking lights</li><li>It had a chargeable battery</li><li>It was 3D-printable</li><li>It was simple</li><li>It did not explode</li></ul><p>Hope you enjoyed the read. I know I did ‚ô•</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://heke.io/tags/diy/>diy</a></li><li><a href=https://heke.io/tags/fun/>fun</a></li><li><a href=https://heke.io/tags/esp32/>esp32</a></li></ul><nav class=paginav><a class=prev href=https://heke.io/posts/giveaway/><span class=title>¬´ Prev</span><br><span>50th keyboard - Giveaway</span></a>
<a class=next href=https://heke.io/posts/logimech/><span class=title>Next ¬ª</span><br><span>LogiMech</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://heke.io/>Heikki Stark</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>